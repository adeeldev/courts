
<div data-ng-init="getSlots()">
<h1>{{message}}</h1>

<button class="btn btn-primary btn-lg pull-right" data-toggle="modal" data-target="#addSlot"  ng-show="addedSlots != slot"><span class='glyphicon glyphicon-plus'></span> New Slot</button>
<button class="btn btn-primary btn-lg pull-right"   ng-show="addedSlots == slot"><span class='glyphicon glyphicon-plus'></span> Can Not Add more slots</button>
<!-- <div class="alert alert-warning">
  <strong>Warning!</strong> You have added maximum slot for this court.
</div> -->

<table class="table table-striped table-hover" >
	<thead>
		<tr>
      <th>Date</th>
      <th>Booking Timing</th>
			<th>Title</th>
      <th>Status</th>
			<th>Price</th>
      <th>Status</th>
      <th>Book Slot</th>
		</tr>
	</thead>
    <tbody ng-if='promotions.length == 0'>
        <tr>
            <td colspan='5'>No Data found</td>
        </tr>
    </tbody>
	<tbody ng-if='slot.length != 0'>
	<tr ng-repeat='slot in slots'>
  
    <td>{{slot.created | date:'MM-dd-yyyy hh:mm a'}}</td>
    <td>{{slot.startDate | date:"h:mma"}} to {{slot.endDate | date:"h:mma"}}</td>
    <td>{{slot.title}}</td>
		<td>{{slot.status}}</td>
    <td>{{slot.price}}</td>
    <td>
      <div class="modal-body">
          <select class="form-control" ng-click="changeStatus(slot._id, status)" ng-model="status">
            <option value="">Change Status</option>
            <option value="book">Book</option>
            <option value="maintenance">Maintenance</option>
            <option value="pending">Pending</option>
          </select>
      </div>
    </td>
    <td><button class="btn btn-primary btn-lg pull-right" data-toggle="modal" data-target="#book" ><span class='glyphicon glyphicon-plus'>Book this SLOT</span></td>
	</tr>
  </tbody>
</table>


<!-- Modal -->
<div class="modal fade" id="addSlot" role="dialog" >
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header" >
    <button type="button" class="close" data-dismiss="modal">&times;</button>
    <h4 class="modal-title">Add Slot</h4>
</div>
<div class="modal-body">
    <label class="control-label">Slot Start Date</label>
    <input date-time name="pickerMinDate" class="form-control" ng-model="dates.today" id="pickerMinDate" min-date="minDate" view="date" min-view="hours" format="MM-DD-YYYY hh:mm a">
</div>
<div class="modal-body">
    <label class="control-label">Slot End Date</label>
    <input date-time name="pickerMinDate" class="form-control" ng-model="dates.end" id="pickerMinDate" min-date="dates.today" view="date" min-view="hours" format="MM-DD-YYYY hh:mm a">
</div>
<div class="modal-body">
    <label class="control-label">Slot Title</label>
    <input placeholder='Title' type="text" class="form-control" name='title' ng-model='addslot.title' required>
</div>
<div class="modal-body">
    <label class="control-label">Court Price</label>
    <input placeholder='Price' type="text" class="form-control" name='price' ng-model='addslot.price' required>
</div>  
<div class="modal-body">
    <label class="control-label">Court Type</label>
    <select class="form-control" ng-model="addslot.size">
      <option value="">Select Size</option>
      <option value="11x11">11x11</option>
      <option value="12x12">12x12</option>
    </select>
</div>  
<!-- <div class="modal-body">
    <label class="control-label">Number of Slots</label>
    <input placeholder='Number of Slots' type="text" class="form-control" name='slots' ng-model='addslot.slots' required>
</div>  -->
<div class="modal-body">
    <label ng-repeat="role in roles">
        <input  type="checkbox" data-checklist-model="user.roles" data-checklist-value="role"> {{role.name}}</label>
</div>  
<div class="modal-body">
    <label class="control-label">Court Number</label>
    <select class="form-control" ng-model="addslot.no">
      <option value="">Select Slot</option>
      <option value="{{n.no}}" ng-repeat="n in slots_array">{{n.no}}</option>
    </select>
</div> 





<div class="modal-footer">
    <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="addSlot(addslot, user.roles, dates.today, dates.end)">Save</button>
    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>



<!-- Modal -->
<div class="modal fade" id="book" role="dialog" ng-controller="bookingController">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header" >
    <button type="button" class="close" data-dismiss="modal">&times;</button>
    <h4 class="modal-title">Pay With Stripe</h4>
</div>
<form action="" method="POST" id="payment-form">
  <span class="payment-errors"></span>

  <div class="form-row">
    <label>
      <span>Card Number</span>
      <input type="text" size="20" data-stripe="number" ng-model="stripe.number">
    </label>
  </div>

  <div class="form-row">
    <label>
      <span>Expiration (MM/YY)</span>
      <input type="text" size="2" data-stripe="exp_month" ng-model="stripe.exp_month">
    </label>
    <span> / </span>
    <input type="text" size="2" data-stripe="exp_year" ng-model="stripe.exp_year">
  </div>

  <div class="form-row">
    <label>
      <span>CVC</span>
      <input type="text" size="4" data-stripe="cvc" ng-model="stripe.cvc">
    </label>
  </div>
  <div class="form-row">
    <label>
      <span>Amount</span>
      <input type="text" size="20" data-stripe="amount" ng-model="stripe.amount">
    </label>
  </div>
  <div class="form-row">
    <label>
      <span>Email</span>
      <input type="text" size="20" data-stripe="email" ng-model="stripe.email">
    </label>
  </div>

  <!-- <input type="button" class="submit" value="Submit Payment" ng-click="addPayment(stripe)"> -->
</form>
<div class="modal-footer">
    <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="addPayment(stripe)">Save</button>
    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>



</div>